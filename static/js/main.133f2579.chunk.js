(this["webpackJsonpreact-camera-pro-example"]=this["webpackJsonpreact-camera-pro-example"]||[]).push([[0],{15:function(e,n,t){e.exports=t(27)},20:function(e,n,t){},27:function(e,n,t){"use strict";t.r(n);var r=t(0),i=t.n(r),a=t(9),o=t.n(a),c=(t(20),t(4)),u=t.n(c),d=t(10),s=t(3),l=t(2),v=t(1);function p(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}var f,b,m,g,h,x=v.a.div(f||(f=p(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n"],["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n"]))),w=v.a.div(b||(b=p(["\n  width: 100%;\n  ","\n"],["\n  width: 100%;\n  ","\n"])),(function(e){var n=e.aspectRatio;return"cover"===n?"\n    position: absolute;\n    bottom: 0;\n    top: 0;\n    left: 0;\n    right: 0;":"\n    position: relative;\n    padding-bottom: "+100/n+"%;"})),k=v.a.div(m||(m=p(["\n  padding: 40px;\n"],["\n  padding: 40px;\n"]))),j=v.a.video(g||(g=p(["\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  z-index: 0;\n  transform: rotateY(",");\n"],["\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  z-index: 0;\n  transform: rotateY(",");\n"])),(function(e){return e.mirrored?"180deg":"0deg"})),O=v.a.canvas(h||(h=p(["\n  display: none;\n"],["\n  display: none;\n"]))),E=i.a.forwardRef((function(e,n){var t=e.facingMode,a=void 0===t?"user":t,o=e.aspectRatio,c=void 0===o?"cover":o,u=e.numberOfCamerasCallback,d=void 0===u?function(){return null}:u,s=e.videoSourceDeviceId,l=void 0===s?void 0:s,v=e.errorMessages,p=void 0===v?{noCameraAccessible:"No camera device accessible. Please connect your camera or try a different browser.",permissionDenied:"Permission denied. Please refresh and give camera permission.",switchCamera:"It is not possible to switch camera to different one because there is only one video device accessible.",canvas:"Canvas is not supported."}:v,f=Object(r.useRef)(null),b=Object(r.useRef)(null),m=Object(r.useRef)(null),g=Object(r.useState)(0),h=g[0],E=g[1],C=Object(r.useState)(null),z=C[0],D=C[1],P=Object(r.useState)(a),S=P[0],I=P[1],M=Object(r.useState)(!1),R=M[0],U=M[1],A=Object(r.useState)(!1),G=A[0],N=A[1];return Object(r.useEffect)((function(){d(h)}),[h]),Object(r.useImperativeHandle)(n,(function(){return{takePhoto:function(){var e,n,t,r,i,a,o,c,u,d;if(h<1)throw new Error(p.noCameraAccessible);if(null===(e=b)||void 0===e?void 0:e.current){var s=(null===(t=null===(n=f)||void 0===n?void 0:n.current)||void 0===t?void 0:t.videoWidth)||1280,l=(null===(i=null===(r=f)||void 0===r?void 0:r.current)||void 0===i?void 0:i.videoHeight)||720,v=s/l,g=((null===(o=null===(a=m)||void 0===a?void 0:a.current)||void 0===o?void 0:o.offsetWidth)||1280)/((null===(u=null===(c=m)||void 0===c?void 0:c.current)||void 0===u?void 0:u.offsetHeight)||1280),x=void 0,w=void 0,k=void 0,j=void 0;v>g?(j=l,x=(s-(k=l*g))/2,w=0):(k=s,x=0,w=(l-(j=s/g))/2),b.current.width=k,b.current.height=j;var O=b.current.getContext("2d");return O&&(null===(d=f)||void 0===d?void 0:d.current)&&O.drawImage(f.current,x,w,k,j,0,0,k,j),b.current.toDataURL("image/jpeg")}throw new Error(p.canvas)},switchCamera:function(){if(h<1)throw new Error(p.noCameraAccessible);h<2&&console.error("Error: Unable to switch camera. Only one device is accessible.");var e="user"===S?"environment":"user";return I(e),e},getNumberOfCameras:function(){return h}}})),Object(r.useEffect)((function(){y(z,D,S,l,E,U,N)}),[S,l]),Object(r.useEffect)((function(){return z&&f&&f.current&&(f.current.srcObject=z),function(){z&&z.getTracks().forEach((function(e){e.stop()}))}}),[z]),i.a.createElement(w,{ref:m,aspectRatio:c},i.a.createElement(x,null,R?i.a.createElement(k,null,p.noCameraAccessible):null,G?i.a.createElement(k,null,p.permissionDenied):null,i.a.createElement(j,{ref:f,id:"video",muted:!0,autoPlay:!0,playsInline:!0,mirrored:"user"===S}),i.a.createElement(O,{ref:b})))}));E.displayName="Camera";var y=function(e,n,t,r,i,a,o){var c,u;e&&e.getTracks().forEach((function(e){e.stop()}));var d={audio:!1,video:{deviceId:r?{exact:r}:void 0,facingMode:t,width:{ideal:1920},height:{ideal:1920}}};if(null===(u=null===(c=navigator)||void 0===c?void 0:c.mediaDevices)||void 0===u?void 0:u.getUserMedia)navigator.mediaDevices.getUserMedia(d).then((function(e){n(C(e,i))})).catch((function(e){z(e,a,o)}));else{var s=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;s?s(d,(function(e){n(C(e,i))}),(function(e){z(e,a,o)})):a(!0)}},C=function(e,n){return navigator.mediaDevices.enumerateDevices().then((function(e){return n(e.filter((function(e){return"videoinput"===e.kind})).length)})),e},z=function(e,n,t){console.error(e),"PermissionDeniedError"===e.name?t(!0):n(!0)};function D(){var e=Object(l.a)(["\n  width: 100%;\n  height: 100%;\n  z-index: 100;\n  position: absolute;\n  background-color: black;\n  ","\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n"]);return D=function(){return e},e}function P(){var e=Object(l.a)(["\n  width: 120px;\n  height: 120px;\n  ","\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n\n  @media (max-width: 400px) {\n    width: 50px;\n    height: 120px;\n  }\n"]);return P=function(){return e},e}function S(){var e=Object(l.a)(["\n  background: url(https://img.icons8.com/ios/50/000000/switch-camera.png);\n  background-position: center;\n  background-size: 40px;\n  background-repeat: no-repeat;\n  width: 40px;\n  height: 40px;\n  padding: 40px;\n  &:disabled {\n    opacity: 0;\n    cursor: default;\n    padding: 60px;\n  }\n  @media (max-width: 400px) {\n    padding: 40px 5px;\n    &:disabled {\n      padding: 40px 25px;\n    }\n  }\n"]);return S=function(){return e},e}function I(){var e=Object(l.a)(["\n  background: url('https://img.icons8.com/ios/50/000000/compact-camera.png');\n  background-position: center;\n  background-size: 50px;\n  background-repeat: no-repeat;\n  width: 80px;\n  height: 80px;\n  border: solid 4px black;\n  border-radius: 50%;\n\n  &:hover {\n    background-color: rgba(0, 0, 0, 0.3);\n  }\n"]);return I=function(){return e},e}function M(){var e=Object(l.a)(["\n  outline: none;\n  color: white;\n  opacity: 1;\n  background: transparent;\n  background-color: transparent;\n  background-position-x: 0%;\n  background-position-y: 0%;\n  background-repeat: repeat;\n  background-image: none;\n  padding: 0;\n  text-shadow: 0px 0px 4px black;\n  background-position: center center;\n  background-repeat: no-repeat;\n  pointer-events: auto;\n  cursor: pointer;\n  z-index: 2;\n  filter: invert(100%);\n  border: none;\n\n  &:hover {\n    opacity: 0.7;\n  }\n"]);return M=function(){return e},e}function R(){var e=Object(l.a)(["\n  position: fixed;\n  display: flex;\n  right: 0;\n  width: 20%;\n  min-width: 130px;\n  min-height: 130px;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.8);\n  z-index: 10;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 50px;\n  box-sizing: border-box;\n  flex-direction: column-reverse;\n\n  @media (max-aspect-ratio: 1/1) {\n    flex-direction: row;\n    bottom: 0;\n    width: 100%;\n    height: 20%;\n  }\n\n  @media (max-width: 400px) {\n    padding: 10px;\n  }\n"]);return R=function(){return e},e}function U(){var e=Object(l.a)(["\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  z-index: 1;\n"]);return U=function(){return e},e}var A=v.a.div(U()),G=v.a.div(R()),N=v.a.button(M()),W=Object(v.a)(N)(I()),H=Object(v.a)(N)(S()),B=v.a.div(P(),(function(e){var n=e.image;return n?"background-image:  url(".concat(n,");"):""})),J=v.a.div(D(),(function(e){var n=e.image;return n?"background-image:  url(".concat(n,");"):""})),T=function(){var e=Object(r.useState)(0),n=Object(s.a)(e,2),t=n[0],a=n[1],o=Object(r.useState)(null),c=Object(s.a)(o,2),l=c[0],v=c[1],p=Object(r.useState)(!1),f=Object(s.a)(p,2),b=f[0],m=f[1],g=Object(r.useRef)(null),h=Object(r.useState)([]),x=Object(s.a)(h,2),w=x[0],k=x[1],j=Object(r.useState)(void 0),O=Object(s.a)(j,2),y=O[0],C=O[1];return Object(r.useEffect)((function(){Object(d.a)(u.a.mark((function e(){var n,t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.enumerateDevices();case 2:n=e.sent,t=n.filter((function(e){return"videoinput"==e.kind})),k(t);case 5:case"end":return e.stop()}}),e)})))()})),i.a.createElement(A,null,b?i.a.createElement(J,{image:l,onClick:function(){m(!b)}}):i.a.createElement(E,{ref:g,aspectRatio:"cover",numberOfCamerasCallback:function(e){return a(e)},videoSourceDeviceId:y,errorMessages:{noCameraAccessible:"No camera device accessible. Please connect your camera or try a different browser.",permissionDenied:"Permission denied. Please refresh and give camera permission.",switchCamera:"It is not possible to switch camera to different one because there is only one video device accessible.",canvas:"Canvas is not supported."}}),i.a.createElement(G,null,i.a.createElement("select",{onChange:function(e){C(e.target.value)}},w.map((function(e){return i.a.createElement("option",{key:e.deviceId,value:e.deviceId},e.label)}))),i.a.createElement(B,{image:l,onClick:function(){m(!b)}}),i.a.createElement(W,{onClick:function(){if(g.current){var e=g.current.takePhoto();console.log(e),v(e)}}}),i.a.createElement(H,{disabled:t<=1,onClick:function(){if(g.current){var e=g.current.switchCamera();console.log(e)}}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[15,1,2]]]);
//# sourceMappingURL=main.133f2579.chunk.js.map